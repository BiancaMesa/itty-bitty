import{T as g,k as w,o as i,f as d,b as t,e as b,i as u,D as x,u as s,t as c,g as f}from"./app-BRK3iOnS.js";import{u as _}from"./urlStore-Dc95W8HL.js";import"ziggy";const y={class:"w-screen h-screen bg-white flex flex-col items-center py-16 px-4"},v={class:"text-center w-full max-w-md mx-auto"},U=t("h1",{class:"mb-8 text-sky-800 mb-4 font-extrabold text-3xl lg:text-3xl"}," Enter Your Long URL:",-1),k=t("button",{class:"px-6 py-2 bg-sky-200 font-bold text-gray-700 hover:bg-sky-300 hover:text-gray-800 rounded-lg text-sm md:text-base",type:"submit"},"Submit",-1),S={key:0,class:"text-red-400 m-2 p-2 text-center text-sm md:text-base"},L={class:"text-center w-full max-w-md mx-auto mt-16"},F=t("h3",{class:"mb-4 font-extrabold text-3xl lg:text-3xl text-transparent bg-clip-text bg-gradient-to-r to-emerald-600 from-sky-400"},"Your Shortened URL:",-1),R={class:"block px-6 py-3 rounded border border-gray-300 rounded-lg bg-white text-gray-900 font-bold mx-auto w-full overflow-hidden text-ellipsis whitespace-nowrap hover:text-sky-600"},T=["href"],D={__name:"ShortenUrl",setup(E){const o=g({title:"",original_url:""}),a=w(""),l=_(),p=async()=>{if(!new RegExp(/^(https?:\/\/(www\.)?|www\.)/).test(o.original_url)){a.value='The URL must start with "https://www.", "http://www.", "www.", "https://", or "http://".';return}o.post(route("short.url"),{preserveState:!0,onSuccess:r=>{const e=r.props.shortenedUrl;l.addShortUrl(e),l.setLatestFullShortenedUrl(e)},onError:r=>{var e,n;a.value=((n=(e=r.response)==null?void 0:e.data)==null?void 0:n.original_url)||"An unexpected error occurred. Please try again."}})},m=()=>{l.latestFullShortenedUrl&&navigator.clipboard.writeText(l.latestFullShortenedUrl)};return(h,r)=>(i(),d("main",y,[t("div",v,[U,t("form",{class:"flex flex-col gap-4 w-full mx-auto",onSubmit:b(p,["prevent"])},[u(t("input",{class:"border border-gray-300 rounded-lg w-full p-3 text-sm md:text-base",type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>s(o).title=e),name:"title",id:"title",placeholder:"Title",required:""},null,512),[[x,s(o).title]]),u(t("input",{class:"border border-gray-300 rounded-lg w-full p-3 text-sm md:text-base",type:"url","onUpdate:modelValue":r[1]||(r[1]=e=>s(o).original_url=e),name:"original_url",id:"original_url",placeholder:"Original URL",required:""},null,512),[[x,s(o).original_url]]),k],32)]),a.value?(i(),d("span",S,c(a.value),1)):f("",!0),t("div",L,[F,t("span",R,[t("a",{class:"bg-white text-gray-900 font-bold mx-auto w-full overflow-hidden text-ellipsis whitespace-nowrap hover:text-sky-600",href:s(l).latestFullShortenedUrl,target:"_blank",rel:"noopener noreferrer"},c(s(l).latestFullShortenedUrl),9,T)])]),t("div",{class:"text-center mt-6"},[t("button",{class:"px-6 py-2 bg-emerald-50 font-bold text-gray-700 hover:bg-emerald-100 hover:text-gray-800 rounded-lg text-sm md:text-base",onClick:m}," Copy Link ")])]))}};export{D as default};
